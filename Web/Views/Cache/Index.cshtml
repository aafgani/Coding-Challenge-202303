@using ContactApi.Model
@using Microsoft.AspNetCore.Html
@using Newtonsoft.Json
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<pre>
    @Html.Raw(ViewBag.JsonData)
</pre>
<div id="cache-result">
</div>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script type="text/javascript">
    let baseUrl = '@ViewBag.BaseURL';
    $(document).ready(function() {
        $.ajax({
            type: "GET",
            url: baseUrl + "cache/",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            async: true,
            success: function(response) {
                if (response != null) {
                    $('#cache-result').text(response);
                    let obj = JSON.parse(response);
                    //document.getElementById("cache-result").innerHTML = obj;
                    console.log(res);
                } else {
                    alert("Something went wrong");
                }
            },
            failure: function(response) {
                alert(response.responseText);
            },
            error: function(response) {
                alert(response.responseText);
            }
        });
    });
</script>